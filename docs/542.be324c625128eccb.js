"use strict";(self.webpackChunkfake_twitter=self.webpackChunkfake_twitter||[]).push([[542],{2542:(G,f,a)=>{a.r(f),a.d(f,{LoginModule:()=>$});var m=a(6814),x=a(1447),s=a(6223),h=a(2787),M=a(6717),p=a(1374),g=a(7700),e=a(5879),v=a(2001),y=a(5592),A=a(553),L=a(9862);let J=(()=>{class t{constructor(n){this.http=n}register(n){return new y.y(o=>{this.http.post(A.N.ApiBaseUrl+"/signup",n).pipe((0,p.P)()).subscribe(i=>{o.next(i)},i=>{o.next(i.error)})})}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(L.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=a(2296),u=a(4170),C=a(2032),c=a(3814),S=a(7509);function b(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Username is a required."),e.qZA())}function w(t,r){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,b,2,0,"mat-error",8),e.qZA()),2&t){e.oxw();const n=e.MAs(10);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required)}}function D(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Email is a required."),e.qZA())}function k(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter a valid email."),e.qZA())}function q(t,r){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,D,2,0,"mat-error",8),e.YNc(2,k,2,0,"mat-error",8),e.qZA()),2&t){e.oxw();const n=e.MAs(16);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.email)}}function I(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Password is a required."),e.qZA())}function U(t,r){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,I,2,0,"mat-error",8),e.qZA()),2&t){e.oxw();const n=e.MAs(22);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required)}}const Y=function(){return{width:"35vw"}},R=function(){return{width:"45vw"}},N=function(){return{width:"55vw"}},Z=function(){return{width:"80vw"}};let Q=(()=>{class t{constructor(n,o,i,l){this.dialogRef=n,this.data=o,this.snackbarService=i,this.registerService=l,this.user={username:"",email:"",password:""},this.registerDisabled=!1,n.disableClose=!0}register(){this.registerDisabled=!0,this.registerService.register(this.user).pipe((0,p.P)()).subscribe(n=>{this.registerDisabled=!1,n.error?this.snackbarService.openSnackBar(n.error):(this.snackbarService.openSnackBar(n.message),this.dialogRef.close())})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.so),e.Y36(g.WI),e.Y36(v.o),e.Y36(J))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-registration"]],decls:29,vars:19,consts:[[3,"ngStyle.gt-lg","ngStyle.gt-md","ngStyle.md","ngStyle.xs","ngStyle.sm"],["mat-dialog-title","",1,"text-align-center"],["name","registrationForm"],["registrationForm","ngForm"],[1,"mat-typography","p-t-24"],["appearance","outline",1,"full-width"],["matInput","","type","text","name","username","required","",3,"ngModel","ngModelChange"],["username","ngModel"],[4,"ngIf"],["matInput","","type","email","name","email","required","","email","",3,"ngModel","ngModelChange"],["email","ngModel"],["matInput","","type","password","name","password","required","",3,"ngModel","ngModelChange"],["password","ngModel"],["fxLayout","row","fxLayoutAlign","space-between center",1,"p-t-16","p-b-16","p-l-20","p-r-20"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2," Fake Register "),e.qZA(),e.TgZ(3,"form",2,3)(5,"mat-dialog-content",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Username"),e.qZA(),e.TgZ(9,"input",6,7),e.NdJ("ngModelChange",function(l){return o.user.username=l}),e.qZA()(),e.YNc(11,w,2,1,"div",8),e.TgZ(12,"mat-form-field",5)(13,"mat-label"),e._uU(14,"Email"),e.qZA(),e.TgZ(15,"input",9,10),e.NdJ("ngModelChange",function(l){return o.user.email=l}),e.qZA()(),e.YNc(17,q,3,2,"div",8),e.TgZ(18,"mat-form-field",5)(19,"mat-label"),e._uU(20,"Password"),e.qZA(),e.TgZ(21,"input",11,12),e.NdJ("ngModelChange",function(l){return o.user.password=l}),e.qZA()(),e.YNc(23,U,2,1,"div",8),e.qZA(),e.TgZ(24,"mat-dialog-actions",13)(25,"button",14),e._uU(26,"Close"),e.qZA(),e.TgZ(27,"button",15),e.NdJ("click",function(){return o.register()}),e._uU(28,"Register"),e.qZA()()()()),2&n){const i=e.MAs(4),l=e.MAs(10),d=e.MAs(16),T=e.MAs(22);e.Q6J("ngStyle.gt-lg",e.DdM(14,Y))("ngStyle.gt-md",e.DdM(15,R))("ngStyle.md",e.DdM(16,N))("ngStyle.xs",e.DdM(17,Z))("ngStyle.sm",e.DdM(18,Z)),e.xp6(9),e.Q6J("ngModel",o.user.username),e.xp6(2),e.Q6J("ngIf",l.touched),e.xp6(4),e.Q6J("ngModel",o.user.email),e.xp6(2),e.Q6J("ngIf",d.touched),e.xp6(4),e.Q6J("ngModel",o.user.password),e.xp6(2),e.Q6J("ngIf",T.touched),e.xp6(4),e.ekj("spinner",o.registerDisabled),e.Q6J("disabled",i.form.invalid||o.registerDisabled)}},dependencies:[m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.on,s.On,s.F,_.lW,g.ZT,g.uh,g.xY,g.H8,u.KE,u.hX,u.TO,C.Nt,c.xw,c.Wh,S.Zl]}),t})(),F=(()=>{class t{constructor(){this.strongRegex=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),this.email="^[w-.]+@([w-]+.)+[w-]{2,4}$",this.patterns={Password:this.strongRegex,Email:this.email}}getPatternConfig(){return this.patterns}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var P=a(7185),O=a(5195),B=a(1274);function E(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Email is a required."),e.qZA())}function j(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter a valid email."),e.qZA())}function z(t,r){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,E,2,0,"mat-error",9),e.YNc(2,j,2,0,"mat-error",9),e.qZA()),2&t){e.oxw();const n=e.MAs(12);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.email)}}function W(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Password is a required."),e.qZA())}function X(t,r){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,W,2,0,"mat-error",9),e.qZA()),2&t){e.oxw();const n=e.MAs(18);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required)}}function H(t,r){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"The user is not active."),e.qZA())}const K=[{path:"",component:(()=>{class t{constructor(n,o,i,l,d){this.confiqService=n,this.loginService=o,this.router=i,this.dialog=l,this.snackbarService=d,this.patterns=this.confiqService.getPatternConfig(),this.loginDisabled=!1,this.isInactive=!1,this.user={email:"",password:""}}login(){this.loginDisabled=!0,this.loginService.getToken("password",this.user).pipe((0,p.P)()).subscribe(n=>{if(n.error)return this.snackbarService.openSnackBar(n.error),void(this.loginDisabled=!1);if(n){const o=n.token,i=n.token;this.loginService.setCookie("access_token",o),this.loginService.setCookie("refresh_token",i),localStorage.setItem("access_token",o);const d=this.loginService.getDecodedAccessToken(o).id;this.loginService.setCookie("user_id",d),d&&this.router.navigate(["/home"])}this.loginDisabled=!1})}openRegistrationModal(){this.dialog.open(Q,{data:{}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(F),e.Y36(P.r),e.Y36(h.F0),e.Y36(g.uw),e.Y36(v.o))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login-default"]],decls:30,vars:8,consts:[["fxLayout","row","fxLayoutAlign","center center","fxFill","",1,"login-bg-img"],["fxLayout","column",1,"loginBox"],["fxFlex","100","fxLayout","row","fxLayoutAlign","center center"],[1,"primary-text-color"],["name","loginForm"],["fxLayout","column",1,"login-container"],["appearance","outline"],["matInput","","type","email","name","username","required","","email","",3,"ngModel","ngModelChange","keyup.enter"],["email","ngModel"],[4,"ngIf"],["matInput","","required","","type","password","name","password",3,"ngModel","ngModelChange","keyup.enter"],["pass","ngModel"],["fxLayout","row","fxLayoutAlign","center center"],["mat-raised-button","","color","primary",1,"full-width",3,"disabled","click"],["flex","flex"],["fxLayoutAlign","center center",1,"m-t-16"],[1,"m-0"],[1,"cur-pointer","accent-text-color",3,"click"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-toolbar")(3,"div",2)(4,"h2",3),e._uU(5,"Fake Login"),e.qZA()()(),e.TgZ(6,"form",4)(7,"mat-card",5)(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"Username"),e.qZA(),e.TgZ(11,"input",7,8),e.NdJ("ngModelChange",function(l){return o.user.email=l})("keyup.enter",function(){return o.login()}),e.qZA()(),e.YNc(13,z,3,2,"div",9),e.TgZ(14,"mat-form-field",6)(15,"mat-label"),e._uU(16,"Password"),e.qZA(),e.TgZ(17,"input",10,11),e.NdJ("ngModelChange",function(l){return o.user.password=l})("keyup.enter",function(){return o.login()}),e.qZA()(),e.YNc(19,X,2,1,"div",9),e.YNc(20,H,2,0,"mat-error",9),e.TgZ(21,"div",12)(22,"button",13),e.NdJ("click",function(){return o.login()}),e._uU(23," Login "),e.qZA(),e._UZ(24,"div",14),e.qZA(),e.TgZ(25,"div",15)(26,"p",16),e._uU(27," Don't have a account? "),e.TgZ(28,"span",17),e.NdJ("click",function(){return o.openRegistrationModal()}),e._uU(29,"Register"),e.qZA()()()()()()()),2&n){const i=e.MAs(12),l=e.MAs(18);e.xp6(11),e.Q6J("ngModel",o.user.email),e.xp6(2),e.Q6J("ngIf",i.touched),e.xp6(4),e.Q6J("ngModel",o.user.password),e.xp6(2),e.Q6J("ngIf",l.touched),e.xp6(1),e.Q6J("ngIf",o.isInactive),e.xp6(2),e.ekj("spinner",o.loginDisabled),e.Q6J("disabled",o.loginDisabled)}},dependencies:[m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.on,s.On,s.F,_.lW,O.a8,u.KE,u.hX,u.TO,C.Nt,B.Ye,c.xw,c.Wh,c.s9,c.yH],styles:["[_nghost-%COMP%]   .login-bg-img[_ngcontent-%COMP%]{background-image:url(/../../../../assets/background-01.jpg);height:100%;background-position:center;background-repeat:no-repeat;background-size:cover}[_nghost-%COMP%]   .loginBox[_ngcontent-%COMP%]{max-width:90%;width:500px}[_nghost-%COMP%]   .login-container[_ngcontent-%COMP%]{padding:16px}"]}),t})()}];let $=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,s.u5,s.UX,h.Bz.forChild(K),M.q,x.o9]}),t})()}}]);